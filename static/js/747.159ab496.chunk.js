"use strict";(self.webpackChunkchat_app=self.webpackChunkchat_app||[]).push([[747],{2747:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var r=n(1413),a=n(4165),s=n(5861),c=n(885),i=n(2791),o=n(1326),u=n(9062),l=n(4122),d=n(6910),p=n(8956),f=n(9434),m=n(4261),h=n(184);function v(e){var t=e.chatScroll,n=(0,i.useState)(""),v=(0,c.Z)(n,2),g=v[0],k=v[1],x=(0,i.useState)(!1),j=(0,c.Z)(x,2),Z=j[0],S=j[1],w=(0,i.useState)(null),C=(0,c.Z)(w,2),b=C[0],N=C[1],y=(0,d.F_)(o.I),_=(0,c.Z)(y,1)[0],E=(0,f.v9)((function(e){return e.currentClickedUser})),U=(0,f.v9)((function(e){return e.darkMode}));(0,i.useEffect)((function(){fetch("https://cdn.jsdelivr.net/npm/@emoji-mart/data").then((function(e){N(e.json())}))}));var L=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===g||""===E){e.next=7;break}return n=new Date,k(""),S(!1),e.next=6,(0,u.r7)((0,u.JU)(o.db,"chats",E),{messages:(0,u.vr)({id:(0,m.Z)(),message:g,dispalyName:_.displayName,icon:_.photoURL,uid:_.uid,timeStamp:n})});case 6:t.current.scrollTop=t.current.scrollHeight;case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,h.jsxs)("div",{className:"messages",children:[(0,h.jsx)("textarea",{className:"messages__input"+(U?" elements-dark":""),placeholder:"Message here...",style:(0,r.Z)({},U?{backgroundColor:"#212121 !important"}:{}),value:g,onChange:function(e){var t=e.target.value;k(t)},minrows:1.3,maxrows:10,maxLength:800}),(0,h.jsx)(p.hRw,{onClick:function(){S((function(e){return!e}))},className:"emojie-picker",size:30}),(0,h.jsx)("div",{className:"emojie"+(Z?"":" hidden"),children:(0,h.jsx)(l.Z,{data:b,categories:["people"],theme:"light",onEmojiSelect:function(e){var t=e.unified.split("-"),n=[];t.forEach((function(e){return n.push("0x"+e)}));var r=String.fromCodePoint.apply(String,n);k(g+r)}})}),(0,h.jsx)("button",{className:"form-button",onClick:L,children:"Send"})]})}}}]);
//# sourceMappingURL=747.159ab496.chunk.js.map